function initSidebar(){if(document.querySelectorAll(".sidebar-nav li").forEach(e=>{e.onclick=function(){this.classList.contains("sidebar-nav-active")||(document.querySelector(".sidebar-panel-active").classList.remove("sidebar-panel-active"),document.querySelector("#"+this.dataset.target).classList.add("sidebar-panel-active"),document.querySelector(".sidebar-nav-active").classList.remove("sidebar-nav-active"),this.classList.add("sidebar-nav-active"))}}),document.querySelectorAll(".toc-link").length){let e=document.querySelector(".post-content").querySelectorAll("h1, h2, h3, h4, h5, h6");window.addEventListener("scroll",function(){!function(e,t){let i="";for(let a=0;a<e.length;a++){const c=e[a];if(!(t>c.offsetTop-64))break;i="#"+c.attributes.id.value}let a=document.querySelector(".toc-link.active");i||(i="#"+document.querySelector("h2").id);if(!a||a.attributes.href!==i){let e=document.querySelector(".toc-link[href='"+i+"']");e&&(!function(e){document.querySelectorAll(".toc-item").forEach(e=>{e.classList.remove("active")});let t=e.parentNode;t.classList.add("active");for(;t.parentNode.classList.contains("toc-child");)(t=t.parentNode.parentNode).classList.add("active")}(e),c=i,window.history.replaceState&&c!==window.location.hash&&window.history.replaceState(void 0,void 0,c))}var c}(e,window.scrollY)})}}document.addEventListener("DOMContentLoaded",initSidebar),document.addEventListener("pjax:success",initSidebar);